<div class="container mt-5">
  <h1 class="display-4 text-center">Admin Bereich: Feste verwalten</h1>

  <!-- Feste Liste -->
  <div class="card mt-5">
    <div class="card-header">
      <h3>Aktuelle Feste</h3>
    </div>
    <div class="card-body" style=" max-height: 300px; overflow-y: auto;">
      <table class="table table-striped">
        <thead>
        <tr>
          <th>Name des Fests</th>
          <th>Zeitraum</th>
          <th>Aktionen</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let party of partyList">
          <td>{{ party.name }}</td>
          <td>{{ party.startDate | date }} - {{ party.endDate | date }}</td>
          <td>
            <button class="btn btn-primary btn-sm" (click)="editFest(party)">Bearbeiten</button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Neues Fest anlegen -->
  <div class="card mt-5">
    <form (ngSubmit)="createParty()">
      <div class="card-header">
        <h3>Neues Fest anlegen</h3>
      </div>
      <div class="card-body">
        <h3>Allgemeine Fest Daten</h3>
        <hr>
        <div class="row mb-3">
          <div class="col-md-6">
            <label for="festName" class="form-label">Name des Fests</label>
            <input type="text" id="festName" class="form-control" [(ngModel)]="newParty.name" name="name" required>
          </div>
          <div class="col-md-3">
            <label for="startDate" class="form-label">Startdatum</label>
            <input type="date" id="startDate" class="form-control" [(ngModel)]="newParty.startDate" name="startDate" required>
          </div>
          <div class="col-md-3">
            <label for="endDate" class="form-label">Enddatum</label>
            <input type="date" id="endDate" class="form-control" [(ngModel)]="newParty.endDate" name="endDate" required>
          </div>
        </div>

          <!-- Vor- und Nachlaufzeit -->
          <div class="row mb-3">
            <div class="col-md-4">
              <label for="organization" class="form-label">Organisation</label>
              <input type="text" id="organization" class="form-control" [(ngModel)]="newParty.organization" name="organization" required>
            </div>
            <div class="col-md-4">
              <label for="leadTime" class="form-label">Vorlaufzeit (Tage)</label>
              <input type="number" id="leadTime" class="form-control" [(ngModel)]="newParty.leadTime" name="leadTime" required>
            </div>
            <div class="col-md-4">
              <label for="followUpTime" class="form-label">Nachlaufzeit (Tage)</label>
              <input type="number" id="followUpTime" class="form-control" [(ngModel)]="newParty.followUpTime" name="followUpTime" required>
            </div>
          </div>

      </div>

      <div class="card-body">
        <h3>Fest-Admin</h3>
        <hr>
          <div class="row mb-3">
            <div class="col-md-6">
              <label for="firstName" class="form-label">Vorname</label>
              <input type="text" id="firstName" class="form-control" [(ngModel)]="newParty.partyAdmin!.firstName" name="username" required>
            </div>
            <div class="col-md-6">
              <label for="lastName" class="form-label">Nachname</label>
              <input type="text" id="lastName" class="form-control" [(ngModel)]="newParty.partyAdmin!.lastName" name="username" required>
            </div>
            <div class="col-md-5">
              <label for="email" class="form-label">Email</label>
              <input type="email" id="email" class="form-control" [(ngModel)]="newParty.partyAdmin!.email" name="email" required>
            </div>
            <div class="col-md-4">
              <label for="phone" class="form-label">Telefonnummer</label>
              <input type="text" id="phone" class="form-control" [(ngModel)]="newParty.partyAdmin!.phone" name="phone" required>
            </div>
          </div>

          <button type="submit" class="btn btn-success">Fest anlegen</button>
      </div>
    </form>
  </div>
</div>
